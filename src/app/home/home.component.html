<div class="home-container">
  <div class="navbar">
    <div class="navbar-content">
      <div class="navbar-left">
        <h2>Welcome, {{ currentUser?.name }}</h2>
        <div class="nav-links">
          <a routerLink="/home" class="nav-link active">Home</a>
          <a routerLink="/posts" class="nav-link">Posts</a>
        </div>
      </div>
      <button (click)="logout()" class="logout-btn">Logout</button>
    </div>
  </div>

   <hello-world name="Mohita"></hello-world>

  <div class="content">
    <!-- ADMIN VIEW: Show all users -->
    @if (isAdmin()) {
      <div class="admin-section">
        <h1>Admin Dashboard - All Users</h1>
        
        @if (loading) {
          <div class="loading">
            Loading users...
          </div>
        } @else {
          <div class="users-table-container">
            <table class="users-table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Title</th>
                  <th>Role</th>
                </tr>
              </thead>
              <tbody>
                @for (user of allUsers; track user.id) {
                  <tr>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.phone }}</td>
                    <td>{{ user.title }}</td>
                    <td>
                      <span class="role-badge" [ngClass]="'role-' + user.role">
                        {{ user.role | uppercase }}
                      </span>
                    </td>
                  </tr>
                } @empty {
                  <tr>
                    <td colspan="5" class="no-data">No users found.</td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        }
      </div>
    }

    <!-- USER VIEW: Show only current user details -->
    @if (!isAdmin()) {
      <div class="user-section">
        <h1>Home - My Profile</h1>
        
        <div class="profile-card">
          <div class="profile-header">
            <h2>{{ currentUser?.name }}</h2>
            <span class="role-badge role-user">{{ currentUser?.role | uppercase }}</span>
          </div>

          <div class="profile-details">
            <div class="detail-row">
              <span class="label">Email:</span>
              <span class="value">{{ currentUser?.email }}</span>
            </div>
            <div class="detail-row">
              <span class="label">Phone:</span>
              <span class="value">{{ currentUser?.phone }}</span>
            </div>
            <div class="detail-row">
              <span class="label">Title:</span>
              <span class="value">{{ currentUser?.title }}</span>
            </div>
            <div class="detail-row">
              <span class="label">Account Type:</span>
              <span class="value">{{ currentUser?.role | uppercase }}</span>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
  
</div>

